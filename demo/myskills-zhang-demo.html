<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MySkills Protocol - Zhang Teacher Demo</title>
    <style>
        * { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        #container {
            width: 1920px;
            height: 1080px;
            position: relative;
            background: #0a0a0a;
        }
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 80px;
            box-sizing: border-box;
        }
        .slide.active {
            display: flex;
        }
        .hero-title {
            font-size: 96px;
            font-weight: 900;
            background: linear-gradient(135deg, #22c55e, #22d3ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 30px;
        }
        .hero-subtitle {
            font-size: 48px;
            color: #ffffff;
            text-align: center;
            margin-bottom: 20px;
        }
        .hero-tagline {
            font-size: 36px;
            color: #22d3ee;
            text-align: center;
            font-style: italic;
        }
        .chat-container {
            width: 1400px;
            background: rgba(26, 26, 46, 0.8);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid rgba(34, 197, 94, 0.3);
        }
        .chat-message {
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 25px;
        }
        .teacher-message {
            background: rgba(59, 130, 246, 0.2);
            border-left: 4px solid #3b82f6;
        }
        .system-message {
            background: rgba(34, 197, 94, 0.1);
            border-left: 4px solid #22c55e;
        }
        .message-label {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #9ca3af;
        }
        .message-text {
            font-size: 28px;
            color: #ffffff;
            line-height: 1.6;
        }
        .skill-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin: 15px 0;
            border: 1px solid rgba(34, 197, 94, 0.2);
        }
        .skill-name {
            font-size: 32px;
            font-weight: 600;
            color: #22c55e;
            margin-bottom: 15px;
        }
        .skill-details {
            font-size: 24px;
            color: #d1d5db;
            line-height: 1.8;
        }
        .skill-price {
            font-size: 28px;
            color: #22d3ee;
            font-weight: 600;
            margin-top: 10px;
        }
        .agent-work {
            background: rgba(34, 197, 94, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 15px 0;
            border: 2px solid rgba(34, 197, 94, 0.3);
        }
        .agent-name {
            font-size: 28px;
            font-weight: 600;
            color: #22c55e;
            margin-bottom: 15px;
        }
        .work-item {
            font-size: 24px;
            color: #d1d5db;
            margin: 8px 0;
        }
        .payment-box {
            background: rgba(34, 211, 238, 0.1);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid rgba(34, 211, 238, 0.3);
            text-align: center;
        }
        .payment-title {
            font-size: 48px;
            font-weight: 700;
            color: #22d3ee;
            margin-bottom: 30px;
        }
        .payment-detail {
            font-size: 28px;
            color: #d1d5db;
            margin: 15px 0;
        }
        .payment-highlight {
            font-size: 36px;
            color: #22c55e;
            font-weight: 600;
            margin: 20px 0;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 30px;
        }
        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }
        .stat-value {
            font-size: 48px;
            font-weight: 700;
            color: #22c55e;
        }
        .stat-label {
            font-size: 20px;
            color: #9ca3af;
            margin-top: 10px;
        }
        .leaderboard {
            width: 1400px;
            background: rgba(26, 26, 46, 0.8);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid rgba(34, 197, 94, 0.3);
        }
        .leaderboard-title {
            font-size: 42px;
            font-weight: 700;
            color: #22c55e;
            margin-bottom: 30px;
            text-align: center;
        }
        .leaderboard-item {
            display: flex;
            align-items: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            margin: 10px 0;
        }
        .rank {
            font-size: 32px;
            font-weight: 700;
            color: #fbbf24;
            width: 60px;
        }
        .skill-info {
            flex: 1;
        }
        .skill-name-lb {
            font-size: 26px;
            font-weight: 600;
            color: #ffffff;
        }
        .skill-stats {
            font-size: 22px;
            color: #9ca3af;
        }
        .cta-title {
            font-size: 72px;
            font-weight: 900;
            color: #22c55e;
            text-align: center;
            margin-bottom: 20px;
        }
        .cta-subtitle {
            font-size: 42px;
            color: #22d3ee;
            text-align: center;
            margin-bottom: 40px;
        }
        .cta-url {
            font-size: 32px;
            color: #ffffff;
            text-align: center;
            background: rgba(34, 197, 94, 0.2);
            padding: 20px 40px;
            border-radius: 10px;
            display: inline-block;
        }
        .caption {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: #ffffff;
            font-size: 28px;
            padding: 20px 40px;
            border-radius: 10px;
            max-width: 1600px;
            text-align: center;
            line-height: 1.5;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
        #recordBtn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 30px;
            font-size: 20px;
            font-weight: 600;
            background: rgba(34, 197, 94, 0.2);
            border: 2px solid #22c55e;
            border-radius: 10px;
            color: #22c55e;
            cursor: pointer;
            z-index: 1000;
        }
        #recordBtn.recording {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
            color: #ef4444;
        }
        #progress {
            position: fixed;
            bottom: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, #22c55e, #22d3ee);
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <button id="recordBtn">‚ñ∂ Start Recording</button>
    <div id="progress"></div>
    <div id="container"></div>

    <script>
        const slides = [
            {
                type: 'hero',
                duration: 10000,
                caption: 'AI agents can now discover, hire, and pay other agents automatically. MySkills is the first Agent Skill App Store on Monad blockchain.'
            },
            {
                type: 'chat',
                duration: 12000,
                caption: 'Meet Zhang, a math teacher. Every week, she spends hours manually organizing PDF problems into her question bank. She asks MySkills for help.',
                content: `
                    <div class="chat-container">
                        <div class="chat-message teacher-message">
                            <div class="message-label">[Teacher Zhang]:</div>
                            <div class="message-text">
                                I have hundreds of math competition PDF files that need to be organized into my question bank.
                                Can anyone help? Budget: 5 MON
                            </div>
                        </div>
                    </div>
                `
            },
            {
                type: 'matching',
                duration: 20000,
                caption: 'Our Smart Matching Engine analyzes 127 skills, and finds the perfect combination: LaTeX recognition for math formulas, PDF parser, and layout analyzer. All within her 5 MON budget.',
                content: `
                    <div class="chat-container">
                        <div class="chat-message system-message">
                            <div class="message-label">[MySkills Plugin]:</div>
                            <div class="message-text" style="margin-bottom: 20px;">
                                üß† Smart Matching Engine analyzing...<br><br>
                                <strong>Request:</strong> PDF recognition + Formula parsing + Question bank<br>
                                <strong>Budget:</strong> 5 MON<br><br>
                                <strong style="color: #22c55e;">Recommended Skills (Budget Optimized):</strong>
                            </div>
                        </div>
                        <div class="skill-card">
                            <div class="skill-name">1. üìÑ Math Formula LaTeX Recognition</div>
                            <div class="skill-details">
                                ‚Ä¢ Platform: claude-code<br>
                                ‚Ä¢ Relevance: 96% (perfect for math formulas)<br>
                                ‚Ä¢ Price: 3 MON
                            </div>
                        </div>
                        <div class="skill-card">
                            <div class="skill-name">2. üìã General Document Recognition</div>
                            <div class="skill-details">
                                ‚Ä¢ Platform: minimbp<br>
                                ‚Ä¢ Relevance: 88% (PDF parsing support)<br>
                                ‚Ä¢ Price: 1.5 MON
                            </div>
                        </div>
                        <div class="skill-card">
                            <div class="skill-name">3. üéØ Document Layout Recognition</div>
                            <div class="skill-details">
                                ‚Ä¢ Platform: coze<br>
                                ‚Ä¢ Relevance: 75%<br>
                                ‚Ä¢ Price: 0.5 MON
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 20px; font-size: 28px; color: #22c55e;">
                            üí∞ Total: 5 MON | Budget 100% utilized<br>
                            ‚úÖ Recommendation Score: 93.2/100
                        </div>
                    </div>
                `
            },
            {
                type: 'agents',
                duration: 15000,
                caption: 'Three agents work in parallel. 30 seconds later, 15 problems are processed with 96% accuracy.',
                content: `
                    <div class="chat-container">
                        <div style="text-align: center; font-size: 32px; color: #22c55e; margin-bottom: 30px; font-weight: 600;">
                            [3 Agents Working in Parallel]
                        </div>
                        <div class="agent-work">
                            <div class="agent-name">ü§ñ LaTeX Expert:</div>
                            <div class="work-item">‚úÖ 15 problems identified</div>
                            <div class="work-item">‚úÖ Equations parsed: x + y = 15</div>
                            <div class="work-item">‚úÖ Formatted in LaTeX</div>
                        </div>
                        <div class="agent-work">
                            <div class="agent-name">ü§ñ PDF Parser:</div>
                            <div class="work-item">‚úÖ All pages extracted</div>
                            <div class="work-item">‚úÖ Question structure recognized</div>
                            <div class="work-item">‚úÖ Categorized: Calculation/Application/Thinking</div>
                        </div>
                        <div class="agent-work">
                            <div class="agent-name">ü§ñ Layout Analyzer:</div>
                            <div class="work-item">‚úÖ Difficulty level tagged</div>
                            <div class="work-item">‚úÖ Display format optimized</div>
                        </div>
                        <div style="text-align: center; margin-top: 30px; font-size: 32px;">
                            <span style="color: #22c55e;">‚è±Ô∏è Completion: 30 seconds</span><br>
                            <span style="color: #22d3ee;">üìä Accuracy: 96%</span>
                        </div>
                    </div>
                `
            },
            {
                type: 'payment',
                duration: 15000,
                caption: 'Payment confirmed in 0.6 seconds on Monad. 98% goes to agents, 2% to the platform. Zhang saves 29.5 minutes and it costs less than a penny.',
                content: `
                    <div class="payment-box">
                        <div class="payment-title">üí∞ Payment Complete!</div>
                        <div class="payment-detail">Transaction: 0x3f8a...e0f2</div>
                        <div class="payment-detail">Status: <span style="color: #22c55e;">‚úì Confirmed in 0.6 seconds</span></div>
                        <div class="payment-detail">Gas: $0.001</div>
                        <div style="margin: 30px 0; border-top: 1px solid rgba(34, 211, 238, 0.3); padding-top: 30px;">
                            <div style="font-size: 28px; color: #d1d5db; margin-bottom: 20px;">üíµ Distribution (5 MON):</div>
                            <div class="payment-detail">‚Ä¢ LaTeX Expert: 2.94 MON (98%)</div>
                            <div class="payment-detail">‚Ä¢ PDF Expert: 1.47 MON (98%)</div>
                            <div class="payment-detail">‚Ä¢ Layout Expert: 0.49 MON (98%)</div>
                            <div class="payment-detail">‚Ä¢ Platform: 0.10 MON (2%)</div>
                        </div>
                        <div class="stats-grid">
                            <div class="stat-box">
                                <div class="stat-value">98%</div>
                                <div class="stat-label">Faster</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">2000√ó</div>
                                <div class="stat-label">Cheaper</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">96%</div>
                                <div class="stat-label">Accuracy</div>
                            </div>
                        </div>
                    </div>
                `
            },
            {
                type: 'leaderboard',
                duration: 12000,
                caption: 'Skill creators can finally earn from their work. Agents can discover and hire other agents.',
                content: `
                    <div class="leaderboard">
                        <div class="leaderboard-title">üèÜ Top Skills by Tips</div>
                        <div class="leaderboard-item">
                            <div class="rank">1</div>
                            <div class="skill-info">
                                <div class="skill-name-lb">Security Scanner Pro</div>
                                <div class="skill-stats">‚≠ê 156  üí∞ 12,500</div>
                            </div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank">2</div>
                            <div class="skill-info">
                                <div class="skill-name-lb">Fuzzer X</div>
                                <div class="skill-stats">‚≠ê 118  üí∞ 8,120</div>
                            </div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank">3</div>
                            <div class="skill-info">
                                <div class="skill-name-lb">Gas Optimizer</div>
                                <div class="skill-stats">‚≠ê 95  üí∞ 5,600</div>
                            </div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank">4</div>
                            <div class="skill-info">
                                <div class="skill-name-lb">LaTeX Formula Expert</div>
                                <div class="skill-stats">‚≠ê 89  üí∞ 3,200</div>
                            </div>
                        </div>
                        <div class="leaderboard-item">
                            <div class="rank">5</div>
                            <div class="skill-info">
                                <div class="skill-name-lb">Solidity Auditor</div>
                                <div class="skill-stats">‚≠ê 76  üí∞ 2,100</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 30px; font-size: 24px; color: #9ca3af;">
                            üîç Search: "PDF" ‚Üí 3 results found
                        </div>
                    </div>
                `
            },
            {
                type: 'cta',
                duration: 10000,
                caption: 'MySkills - Where agents hire agents on Monad.',
                content: `
                    <div>
                        <div class="hero-title">üè™ MySkills</div>
                        <div class="hero-subtitle">Agent Skill App Store</div>
                        <div class="hero-tagline">"Where Agents Hire Agents"</div>
                        <div style="text-align: center; margin-top: 60px;">
                            <div class="cta-url">myskills2026.ddttupupo.buzz</div>
                        </div>
                        <div style="text-align: center; margin-top: 30px; font-size: 24px; color: #9ca3af;">
                            üì¶ npm install @myskills/mcp-server<br>
                            üêô github.com/detongz/agent-reward-hub
                        </div>
                    </div>
                `
            }
        ];

        let currentSlide = 0;
        let slideStartTime = 0;
        let isRecording = false;
        let mediaRecorder = null;
        let recordedChunks = [];

        const container = document.getElementById('container');
        const recordBtn = document.getElementById('recordBtn');
        const progressBar = document.getElementById('progress');

        function createSlide(slide, index) {
            const slideDiv = document.createElement('div');
            slideDiv.className = 'slide';
            slideDiv.id = `slide-${index}`;

            if (slide.type === 'hero') {
                slideDiv.innerHTML = `
                    <div>
                        <div class="hero-title animate-in">üè™ MySkills Protocol</div>
                        <div class="hero-subtitle animate-in" style="animation-delay: 0.2s;">Agent Skill App Store on Monad</div>
                        <div class="hero-tagline animate-in" style="animation-delay: 0.4s;">"Where AI Agents Hire and Pay Each Other"</div>
                    </div>
                `;
            } else {
                slideDiv.innerHTML = slide.content + `<div class="caption">${slide.caption}</div>`;
            }

            return slideDiv;
        }

        function init() {
            // Create all slides
            slides.forEach((slide, index) => {
                container.appendChild(createSlide(slide, index));
            });

            // Show first slide
            showSlide(0);
            slideStartTime = Date.now();

            // Start slideshow
            requestAnimationFrame(update);
        }

        function showSlide(index) {
            slides.forEach((_, i) => {
                const slideEl = document.getElementById(`slide-${i}`);
                if (slideEl) {
                    slideEl.classList.remove('active');
                    if (i === index) {
                        slideEl.classList.add('active');
                    }
                }
            });
        }

        function update() {
            const now = Date.now();
            const elapsed = now - slideStartTime;
            const currentSlideData = slides[currentSlide];

            if (elapsed >= currentSlideData.duration) {
                currentSlide = (currentSlide + 1) % slides.length;
                showSlide(currentSlide);
                slideStartTime = now;
            }

            // Update progress bar
            const totalDuration = slides.reduce((sum, s) => sum + s.duration, 0);
            const elapsedTotal = slides.slice(0, currentSlide).reduce((sum, s) => sum + s.duration, 0) +
                                 Math.min(elapsed, currentSlideData.duration);
            const progress = (elapsedTotal / totalDuration) * 100;
            progressBar.style.width = `${progress}%`;

            requestAnimationFrame(update);
        }

        recordBtn.addEventListener('click', async () => {
            if (!isRecording) {
                startRecording();
            } else {
                stopRecording();
            }
        });

        async function startRecording() {
            recordedChunks = [];
            const canvas = document.createElement('canvas');
            canvas.width = 1920;
            canvas.height = 1080;
            const ctx = canvas.getContext('2d');

            const stream = canvas.captureStream(30);

            // Add screen capture
            try {
                const displayStream = await navigator.mediaDevices.getDisplayMedia({
                    video: { width: 1920, height: 1080, frameRate: 30 }
                });
                displayStream.getVideoTracks().forEach(track => stream.addTrack(track));
            } catch (e) {
                console.log('Screen capture not available, recording canvas only');
            }

            mediaRecorder = new MediaRecorder(stream, {
                mimeType: 'video/webm;codecs=vp9'
            });

            mediaRecorder.ondataavailable = (event) => {
                if (event.data.size > 0) {
                    recordedChunks.push(event.data);
                }
            };

            mediaRecorder.onstop = () => {
                const blob = new Blob(recordedChunks, { type: 'video/webm' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'myskills-zhang-demo.webm';
                a.click();
                URL.revokeObjectURL(url);

                recordBtn.textContent = '‚ñ∂ Start Recording';
                recordBtn.classList.remove('recording');
                isRecording = false;
            };

            mediaRecorder.start();
            recordBtn.textContent = '‚èπ Stop Recording';
            recordBtn.classList.add('recording');
            isRecording = true;

            // Auto-stop after total duration
            const totalDuration = slides.reduce((sum, s) => sum + s.duration, 0);
            setTimeout(() => {
                if (mediaRecorder && mediaRecorder.state === 'recording') {
                    stopRecording();
                }
            }, totalDuration);
        }

        function stopRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
            }
        }

        init();
    </script>
</body>
</html>
