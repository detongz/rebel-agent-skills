# Agent Reward Hub - 前端设计文档

## 页面结构

```
┌─────────────────────────────────────────────────────────────┐
│                      导航栏                                  │
│  [Logo] [Skills目录] [我的打赏] [创建Skill] [连接钱包]        │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                                                              │
│                     Hero Section                             │
│           跨平台 Agent Skill 打赏与激励协议                    │
│        支持 Coze / Claude Code / Manus / MiniMax             │
│                                                              │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                      Skills 目录                              │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│  │ Skill A │ │ Skill B │ │ Skill C │ │ Skill D │           │
│  │ [打赏]  │ │ [打赏]  │ │ [打赏]  │ │ [打赏]  │           │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
└─────────────────────────────────────────────────────────────┘
```

---

## 核心页面设计

### 1. 首页 (Home)

**组件：HeroBanner**

```
┌─────────────────────────────────────────────────────────────┐
│                                                              │
│         🎁 Agent Reward Hub                                  │
│     跨平台 Agent Skill 打赏与激励协议                          │
│                                                              │
│        [连接钱包开始]  [浏览 Skills]                          │
│                                                              │
│    💡 用 $ASKL 打赏创作者，支持他们持续开发                    │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

**关键元素**：
- 标题："Agent Reward Hub - 跨平台 Agent Skill 打赏协议"
- 副标题："支持 Coze / Claude Code / Manus / MiniMax 等"
- CTA 按钮：
  - 主按钮："连接钱包"（连接后变成 "领取测试币"）
  - 次按钮："浏览 Skills"

**状态显示**（连接钱包后）：
```
┌─────────────────────────────────────────────────────────────┐
│  钱包: 0x1234...5678                                         │
│  余额: 1,000 $ASKL                                           │
│  [领取测试币] [我的打赏记录]                                   │
└─────────────────────────────────────────────────────────────┘
```

---

### 2. Skills 目录页 (Skills Directory)

**布局：网格卡片**

```
┌─────────────────────────────────────────────────────────────┐
│  筛选: [全部] [Coze] [Claude Code] [Manus]                   │
│  排序: [热度] [最新] [打赏最多]                               │
└─────────────────────────────────────────────────────────────┘
┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
│ 📦       │ │ 📦       │ │ 📦       │ │ 📦       │
│ Skill A  │ │ Skill B  │ │ Skill C  │ │ Skill D  │
│          │ │          │ │          │ │          │
│ 🏷️ Coze  │ │ 🏷️ Claude│ │ 🏷️ Manus│ │ 🏷️ Coze  │
│          │ │          │ │          │ │          │
│ 👤 0xabcd│ │ 👤 0xefgh│ │ 👤 0ijkl│ │ 👤 0mnop│
│          │ │          │ │          │ │          │
│ 💰 收到   │ │ 💰 收到   │ │ 💰 收到   │ │ 💰 收到   │
│    1.2K  │ │    856   │ │    2.3K  │ │    542   │
│          │ │          │ │          │ │          │
│ [打赏 💎] │ │ [打赏 💎] │ │ [打赏 💎] │ │ [打赏 💎] │
└─────────┘ └─────────┘ └─────────┘ └─────────┘
```

**卡片信息**：
- Skill 名称
- 所属平台（图标）
- 创作者地址（截断显示）
- 累计收到的打赏
- "打赏" 按钮

---

### 3. 打赏弹窗 (Tip Modal)

点击"打赏"按钮后弹出：

```
┌─────────────────────────────────────────────────────────────┐
│  ✕ 打赏 Skill A                                    ×         │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  创作者: 0xabcd...efgh                                       │
│  已收到: 1,200 $ASKL                                         │
│                                                              │
│  ┌────────────────────────────────────────────────┐         │
│  │ 打赏金额 ($ASKL)                              │         │
│  │                                                │         │
│  │ [10]   [50]   [100]   [自定义]                 │         │
│  │                                                │         │
│  │              💰 您的余额: 1,000 ASKL           │         │
│  └────────────────────────────────────────────────┘         │
│                                                              │
│  ✨ 留言 (可选):                                              │
│  ┌────────────────────────────────────────────────┐         │
│  │ 很棒的 Skill，感谢创作！                        │         │
│  └────────────────────────────────────────────────┘         │
│                                                              │
│  💡 分账说明:                                                │
│  • 创作者收到: 98 $ASKL (98%)                                │
│  • 平台销毁: 2 $ASKL (2%)                                    │
│                                                              │
│  ┌──────────────────┐  ┌──────────────────┐                │
│  │   取消           │  │   确认打赏 💎     │                │
│  └──────────────────┘  └──────────────────┘                │
│                                                              │
└──────���──────────────────────────────────────────────────────┘
```

**交互流程**：
1. 用户选择金额（预设按钮或自定义输入）
2. 可选填写留言
3. 点击"确认打赏"
4. 钱包签名确认
5. 显示成功动画 + 交易哈希

**成功状态**：
```
┌─────────────────────────────────────────────────────────────┐
│                                                              │
│                    ✅ 打赏成功！                              │
│                                                              │
│               已向创作者发送 98 $ASKL                         │
│                                                              │
│  📄 查看交易: [Explorer 链接]                                 │
│                                                              │
│  ┌──────────────────┐                                        │
│  │   继续浏览 Skills │                                        │
│  └──────────────────┘                                        │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

### 4. 创建 Skill 页面 (Create Skill)

**表单设计**：

```
┌─────────────────────────────────────────────────────────────┐
│  📝 创建新的 Agent Skill                                     │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  Skill 名称 *                                               │
│  ┌────────────────────────────────────────────────┐         │
│  │ 例如: Claude Code Copilot                      │         │
│  └────────────────────────────────────────────────┘         │
│                                                              │
│  描述 *                                                     │
│  ┌────────────────────────────────────────────────┐         │
│  │ 这个 Skill 的功能说明...                       │         │
│  │                                                │         │
│  └────────────────────────────────────────────────┘         │
│                                                              │
│  所属平台 *                                                 │
│  ┌────────────────────────────────────────────────┐         │
│  │ [Coze] [Claude Code] [Manus] [MiniMax]         │         │
│  └────────────────────────────────────────────────┘         │
│                                                              │
│  版本号                                                      │
│  ┌────────────────────────────────────────────────┐         │
│  │ v1.0.0                                         │         │
│  └────────────────────────────────────────────────┘         │
│                                                              │
│  收款地址 * (用于接收打赏)                                    │
│  ┌────────────────────────────────────────────────┐         │
│  │ 0x1234567890abcdef... (当前钱包)               │         │
│  └────────────────────────────────────────────────┘         │
│                                                              │
│  🆓 创建 Skill 即可获得 500 $ASKL 奖励！                      │
│                                                              │
│  ┌──────────────────┐  ┌──────────────────┐                │
│  │   取消           │  │   创建 Skill 🚀  │                │
│  └──────────────────┘  └──────────────────┘                │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

### 5. 我的打赏页面 (My Tips)

**统计面板**：

```
┌─────────────────────────────────────────────────────────────┐
│  📊 我的打赏统计                                             │
├─────────────────────────────────────────────────────────────┤
│  总打赏次数: 23 次            总打赏金额: 1,250 $ASKL        │
│                                                              │
│  最近打赏:                                                   │
│  ┌────────────────────────────────────────────────┐         │
│  │ Skill A ──────────► 50 $ASKL ── 2 小时前       │         │
│  │ Skill B ──────────► 100 $ASKL ── 昨天          │         │
│  │ Skill C ──────────► 25 $ASKL ── 3 天前         │         │
│  └────────────────────────────────────────────────┘         │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 技术栈

### 前端框架
- **Next.js 14** - React 框架
- **TypeScript** - 类型安全
- **Tailwind CSS** - 样式
- **shadcn/ui** - 组件库

### Web3 集成
- **wagmi** + **viem** - 以太坊交互
- **RainbowKit** 或 **ConnectKit** - 钱包连接
- **TanStack Query** - 数据缓存

### 后端（可选）
- **Next.js API Routes** - 简单后端
- **Vercel** - 部署

---

## 颜色方案

```css
/* 主题色 */
--primary: #8B5CF6;      /* 紫色 */
--primary-hover: #7C3AED;
--secondary: #10B981;    /* 绿色 */
--accent: #F59E0B;       /* 橙色 - 打赏按钮 */

/* 背景色 */
--bg-primary: #0F172A;   /* 深蓝黑 */
--bg-secondary: #1E293B;
--bg-card: #334155;

/* 文本色 */
--text-primary: #F8FAFC;
--text-secondary: #94A3B8;
--text-muted: #64748B;
```

---

## 关键交互

### 1. 连接钱包流程

```javascript
// 伪代码
async function connectWallet() {
  const { address, chain } = await connect();

  // 检查是否在 Monad 测试网
  if (chain.id !== 41454) {
    // 提示切换网络
    await switchNetwork({ chainId: 41454 });
  }

  // 获取 $ASKL 余额
  const balance = await contract.balanceOf(address);

  // 更新 UI
  setWalletState({ address, balance });
}
```

### 2. 打赏流程

```javascript
// 伪代码
async function tipSkill(skillId, amount) {
  // 1. 检查余额
  const balance = await contract.balanceOf(address);
  if (balance < amount) {
    alert("余额不足，请先领取测试币");
    return;
  }

  // 2. 估算 Gas（可选）
  const gasEstimate = await contract.tipSkill.estimateGas(skillId, amount);

  // 3. 发送交易
  const tx = await contract.tipSkill(skillId, amount, {
    gasLimit: gasEstimate * 120n / 100n // 增加 20% 余量
  });

  // 4. 等待确认
  await tx.wait();

  // 5. 更新 UI
  showSuccessAnimation();
  refreshBalance();
}
```

### 3. 领取测试币

```javascript
// 调用测试网水龙头
async function faucet() {
  const response = await fetch('https://faucet.monad.xyz/api/claim', {
    method: 'POST',
    body: JSON.stringify({ address })
  });
  const { txHash } = await response.json();
  return txHash;
}
```

---

## 数据结构

### Skill 元数据

```typescript
interface Skill {
  id: string;              // keccak256(name + version + platform)
  name: string;
  description: string;
  platform: 'coze' | 'claude-code' | 'manus' | 'minimax';
  version: string;
  creator: string;         // 钱包地址
  totalTips: bigint;       // 累计打赏
  installCount?: number;   // 安装量（可选，后续添加）
  createdAt: Date;
}
```

### 打赏记录

```typescript
interface Tip {
  id: string;              // 交易哈希
  skillId: string;
  from: string;            // 打赏者
  to: string;              // 创作者
  amount: bigint;
  creatorReceived: bigint; // 创作者实际收到的（98%）
  platformFee: bigint;     // 平台费用（2%）
  timestamp: Date;
  message?: string;        // 留言（存储在链下）
}
```

---

## 响应式设计

### 移动端适配

```
桌面端 (1024px+): 4 列卡片
平板端 (768px-1023px): 3 列卡片
手机端 (<768px): 1 列卡片，底部导航栏
```

---

## MVP 功能优先级

### P0（必须完成）
- [x] 钱包连接（支持 MetaMask）
- [x] 查询 $ASKL 余额
- [x] Skills 列表展示
- [x] 打赏功能（调用合约）
- [x] 创建 Skill（注册到链上）

### P1（加分项）
- [ ] 测试网水龙头集成
- [ ] 打赏历史记录
- [ ] 创作者排行榜
- [ ] Skill 搜索/筛选
- [ ] 交易状态实时更新

### P2（后期迭代）
- [ ] 多钱包支持（WalletConnect, Coinbase Wallet）
- [ ] 链下留言存储（IPFS）
- [ ] Skill 评论/评分系统
- [ ] 创作者个人主页
