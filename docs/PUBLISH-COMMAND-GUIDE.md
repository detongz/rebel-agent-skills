# MySkills Publish Command å®Œæ•´æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

`publish` å‘½ä»¤å…è®¸ç”¨æˆ·å°†æŠ€èƒ½å‘å¸ƒåˆ° MySkills å¹³å°ã€‚è¿™æ˜¯ä¸€ä¸ª **æ··åˆå­˜å‚¨æ¶æ„**ï¼š

- **é“¾ä¸Š**: skillId â†’ creator æ˜ å°„ï¼ˆä¸å¯ç¯¡æ”¹ï¼‰
- **é“¾ä¸‹**: å®Œæ•´æŠ€èƒ½ä¿¡æ¯ï¼ˆçµæ´»ï¼Œå¯æ›´æ–°ï¼‰

## ğŸš€ ä½¿ç”¨æµç¨‹

### 1. è¿æ¥é’±åŒ…ï¼ˆå¿…é¡»ï¼‰

```bash
npx myskills login <private-key>
```

æˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š

```bash
export MY_SKILLS_PRIVATE_KEY=0x...
npx myskills whoami  # éªŒè¯è¿æ¥
```

### 2. å‘å¸ƒæŠ€èƒ½

```bash
npx myskills publish https://github.com/user/repo
```

å¸¦é€‰é¡¹ï¼š

```bash
npx myskills publish https://github.com/user/repo \
  --name "My Skill" \
  --category "productivity" \
  --plan single
```

### 3. æŸ¥çœ‹å·²å‘å¸ƒçš„æŠ€èƒ½

```bash
npx myskills my-skills
```

## ğŸ’° ä»˜è´¹æ¨¡å¼

### å•æ¬¡å‘å¸ƒ: $5 USDC
```bash
npx myskills publish https://github.com/user/repo --plan single
```

### è®¢é˜…åˆ¶: $49/æœˆ
```bash
npx myskills publish https://github.com/user/repo --plan subscription
```

è®¢é˜…æƒç›Šï¼š
- æ— é™æ¬¡å‘å¸ƒ
- ä¼˜å…ˆæ’å
- è®¢é˜…è€…å¾½ç« 

## ğŸ“Š å®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  npx myskills publish https://github.com/user/repo          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. éªŒè¯ç™»å½•çŠ¶æ€                                             â”‚
â”‚     âœ… å¿…é¡»è¿æ¥é’±åŒ…                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. éªŒè¯ GitHub URL                                          â”‚
â”‚     âœ… è§£æ owner/repo                                       â”‚
â”‚     âœ… è·å–å…ƒæ•°æ®                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. æ£€æŸ¥æ˜¯å¦å·²æ³¨å†Œ                                           â”‚
â”‚     âœ… æŸ¥è¯¢é“¾ä¸Š skillId                                      â”‚
â”‚     â— å·²æ³¨å†Œåˆ™é€€å‡º                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. åŸºç¡€å®‰å…¨æ‰«æï¼ˆå…è´¹ï¼‰                                      â”‚
â”‚     âœ… è°ƒç”¨ /api/scan                                        â”‚
â”‚     âœ… è¯„åˆ† >= 50 é€šè¿‡                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. æ£€æŸ¥ä»˜è´¹è¦æ±‚                                              â”‚
â”‚     âœ… è°ƒç”¨ /api/publish/prepare                             â”‚
â”‚     âœ… æ£€æŸ¥è®¢é˜…çŠ¶æ€                                          â”‚
â”‚     â— éœ€è¦ä»˜è´¹åˆ™æ˜¾ç¤ºæ”¯ä»˜ä¿¡æ¯                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. é“¾ä¸Šæ³¨å†Œ                                                  â”‚
â”‚     âœ… è°ƒç”¨ registerSkill(skillId, name, creator)           â”‚
â”‚     âœ… è¿”å› skillId å’Œ txHash                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. å®Œæˆ                                                     â”‚
â”‚     âœ… è¿”å›æŠ€èƒ½ä¿¡æ¯                                          â”‚
â”‚     âœ… æ˜¾ç¤º Explorer é“¾æ¥                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ å‘½ä»¤é€‰é¡¹

| é€‰é¡¹ | æè¿° | é»˜è®¤å€¼ |
|------|------|--------|
| `--name <name>` | æŠ€èƒ½åç§° | repo åç§° |
| `--category <cat>` | æŠ€èƒ½åˆ†ç±» | general |
| `--plan <plan>` | ä»˜è´¹æ–¹æ¡ˆ (single/subscription) | single |

## ğŸ“ è¾“å‡ºæ–‡ä»¶

å‘å¸ƒæˆåŠŸåï¼Œæ•°æ®å­˜å‚¨åœ¨ï¼š

```
frontend/data/skills.json
```

ç»“æ„ï¼š
```json
{
  "skills": [
    {
      "id": "0x...",
      "name": "My Skill",
      "repository": "user/repo",
      "category": "productivity",
      "creator": "0x...",
      "securityScore": 85,
      "totalTips": "0",
      "publishedAt": "2025-02-11T...",
      "verified": true
    }
  ],
  "publications": [],
  "subscriptions": {}
}
```

## ğŸŒ API ç«¯ç‚¹

### POST /api/publish/prepare
å‡†å¤‡å‘å¸ƒï¼Œè¿”å›æ”¯ä»˜ä¿¡æ¯

```bash
curl -X POST http://localhost:3000/api/publish/prepare \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://github.com/user/repo",
    "name": "My Skill",
    "category": "productivity",
    "plan": "single",
    "creator": "0x..."
  }'
```

### POST /api/publish/confirm
ç¡®è®¤æ”¯ä»˜åæ‰§è¡Œå‘å¸ƒ

```bash
curl -X POST http://localhost:3000/api/publish/confirm \
  -H "Content-Type: application/json" \
  -H "x402-payment: <payment_proof>" \
  -H "x402-signature: <signature>" \
  -d '{
    "url": "https://github.com/user/repo",
    "name": "My Skill",
    "creator": "0x..."
  }'
```

### GET /api/skills
è·å–æ‰€æœ‰æŠ€èƒ½

```bash
curl http://localhost:3000/api/skills
curl http://localhost:3000/api/skills?creator=0x...
```

## ğŸ§ª æµ‹è¯•

```bash
# 1. ç¡®ä¿å‰ç«¯æœåŠ¡è¿è¡Œ
cd frontend && npm run dev

# 2. ç™»å½•é’±åŒ…
npx myskills login 0x...

# 3. æµ‹è¯•å‘å¸ƒ
npx myskills publish https://github.com/anthropics/claude-code \
  --name "Claude Code" \
  --category "productivity"

# 4. æŸ¥çœ‹å·²å‘å¸ƒæŠ€èƒ½
npx myskills my-skills

# 5. æœç´¢æŠ€èƒ½
npx myskills search "Claude Code"
```

## âš ï¸ é”™è¯¯å¤„ç†

| é”™è¯¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| No wallet connected | æœªç™»å½• | è¿è¡Œ `npx myskills login` |
| Invalid GitHub URL | URL æ ¼å¼é”™è¯¯ | ä½¿ç”¨ `https://github.com/user/repo` |
| Already registered | æŠ€èƒ½å·²æ³¨å†Œ | è”ç³»å¹³å°æ›´æ–° |
| Security check failed | è¯„åˆ†è¿‡ä½ | ä¿®å¤å®‰å…¨é—®é¢˜åé‡è¯• |
| Payment required | éœ€è¦ä»˜è´¹ | å®Œæˆæ”¯ä»˜æˆ–è®¢é˜… |
| Insufficient balance | æ—  gas è´¹ | ä» faucet è·å– MON |

## ğŸ”— ç›¸å…³æ–‡ä»¶

- `packages/cli/src/commands/publish.ts` - CLI å‘½ä»¤
- `packages/cli/src/commands/my-skills.ts` - æŸ¥çœ‹å·²å‘å¸ƒæŠ€èƒ½
- `frontend/app/api/publish/prepare/route.ts` - å‡†å¤‡å‘å¸ƒ API
- `frontend/app/api/publish/confirm/route.ts` - ç¡®è®¤å‘å¸ƒ API
- `frontend/app/api/skills/route.ts` - æŠ€èƒ½åˆ—è¡¨ API
- `frontend/lib/skills-db.ts` - æŠ€èƒ½æ•°æ®åº“å±‚
